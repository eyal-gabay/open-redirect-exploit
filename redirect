#!/usr/bin/python3

from pyvirtualdisplay import Display
from selenium import webdriver
from time import sleep
from sys import argv


def run(sleep_time=0.0):
    # screen settings
    display = Display(visible=0, size=(800, 800))
    display.start()

    payloads = open("wl.txt")
    urls = argv[1:]

    with webdriver.Chrome() as firefox:
        for url in urls:
            for payload in payloads:
                payload = payload.strip()
                print("---", url + "/" + payload)
                try:
                    firefox.get(url + "/" + payload)
                except:
                    pass
                if url not in firefox.current_url:
                    print("found:", payload, ":)")
                    exit()
                sleep(sleep_time)
        else:
            exit(print("maybe next time :("))


if "eyal is the best":
    run()

